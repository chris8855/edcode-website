{"version":3,"sources":["webpack:///./src/components/join.js","webpack:///./src/pages/chat.js"],"names":["Join","location","defaultRoom","state","roomName","useTwilioVideo","getRoomToken","useState","identity","setIdentity","setRoomName","useEffect","token","navigate","JSON","stringify","className","onSubmit","event","preventDefault","htmlFor","type","id","value","onChange","target","e","Chat"],"mappings":"mJAmDeA,EA/CF,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACRC,EACHD,GAAYA,EAASE,OAASF,EAASE,MAAMC,UAAa,GAFhC,EAGGC,cAAxBF,EAHqB,EAGrBA,MAAOG,EAHc,EAGdA,aAHc,EAIGC,mBAAS,IAAlCC,EAJsB,KAIZC,EAJY,OAKGF,mBAASL,GAAlCE,EALsB,KAKZM,EALY,KAO7BC,qBAAU,WACJR,EAAMS,OAAST,EAAMC,UACvBS,mBAAS,SAASV,EAAMC,YAEzB,CAACD,IAOJ,OACE,oCACE,0DACA,6BAAMW,KAAKC,UAAUZ,EAAO,KAAM,IAClC,0BAAMa,UAAU,aAAaC,SATZ,SAAAC,GACnBA,EAAMC,iBACNb,EAAa,CAAEE,WAAUJ,eAQrB,2BAAOgB,QAAQ,YAAf,gBAEE,2BACEC,KAAK,OACLC,GAAG,WACHC,MAAOf,EACPgB,SAAU,SAAAN,GAAK,OAAIT,EAAYS,EAAMO,OAAOF,WAGhD,2BAAOH,QAAQ,YAAf,kCAEE,2BACEC,KAAK,OACLC,GAAG,WACHC,MAAOnB,EACPoB,SAAU,SAAAE,GAAC,OAAIhB,EAAYgB,EAAED,OAAOF,WAGxC,4BAAQF,KAAK,UAAb,sB,YCnCOM,UANF,SAAC,GAAD,IAAG1B,EAAH,EAAGA,SAAH,OACX,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAMA,SAAUA","file":"component---src-pages-chat-js-c8aecd7878286e18ebe8.js","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport useTwilioVideo from \"../hooks/useTwilioVideo\"\nimport { navigate } from \"gatsby\"\n\nconst Join = ({ location }) => {\n  const defaultRoom =\n    (location && location.state && location.state.roomName) || \"\"\n  const { state, getRoomToken } = useTwilioVideo()\n  const [identity, setIdentity] = useState(\"\")\n  const [roomName, setRoomName] = useState(defaultRoom)\n\n  useEffect(() => {\n    if (state.token && state.roomName) {\n      navigate(`/room/${state.roomName}`)\n    }\n  }, [state])\n\n  const handleSubmit = event => {\n    event.preventDefault()\n    getRoomToken({ identity, roomName })\n  }\n\n  return (\n    <>\n      <h1>Start or Join a Video Chat</h1>\n      <pre>{JSON.stringify(state, null, 2)}</pre>\n      <form className=\"start-form\" onSubmit={handleSubmit}>\n        <label htmlFor=\"identity\">\n          Display name:\n          <input\n            type=\"text\"\n            id=\"identity\"\n            value={identity}\n            onChange={event => setIdentity(event.target.value)}\n          />\n        </label>\n        <label htmlFor=\"roomName\">\n          Which room do you want to join?\n          <input\n            type=\"text\"\n            id=\"roomName\"\n            value={roomName}\n            onChange={e => setRoomName(e.target.value)}\n          />\n        </label>\n        <button type=\"submit\">Join Video Chat</button>\n      </form>\n    </>\n  )\n}\n\nexport default Join\n","import React from \"react\"\nimport Join from \"../components/join\"\nimport Layout from \"../components/layout\"\n\nconst Chat = ({ location }) => (\n  <Layout>\n    <Join location={location} />\n  </Layout>\n)\n\nexport default Chat\n"],"sourceRoot":""}